(this["webpackJsonpcorona-frontend"]=this["webpackJsonpcorona-frontend"]||[]).push([[0],{159:function(e,t,a){e.exports=a(263)},20:function(e,t){function a(e,t,a){var n="";if(a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3),n="; expires="+i.toUTCString()}document.cookie=e+"="+t+n+"; path=/"}function n(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var i=a[n];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}window.readCookie=n,t.readCookie=n,t.eraseCookie=function(e){a(e,"",-1)},t.createCookie=a},263:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(11),l=a.n(r),s=a(7),o=a(8),c=a(9),m=a(10),u=a(116),d=a(275),h=a(29),f=a(6),p=a.n(f),E=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).logout=function(){p.a.fire({title:"Are you sure you want to logout?",type:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes, Logout"}).then((function(e){e.value&&n.props.logoutUser()}))},n.state={route:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=window.location.pathname,t=null;"/dashboard"===e?t="Dashboard":"/manage-materials"===e?t="Materials":"/manage-districts"===e?t="Districts":"/manage-users"===e&&(t="Users"),t&&this.setState({route:t})}},{key:"render",value:function(){return i.a.createElement("div",{className:"top-menu"},i.a.createElement("div",{className:"left-container"},i.a.createElement("a",{className:"menu-item",href:"/"},i.a.createElement("img",{src:"/images/logo.png",height:"50"})),i.a.createElement("div",{className:"menu-items"},i.a.createElement("a",{className:"Dashboard"===this.state.route?"menu-item selected":"menu-item",href:"/dashboard"===window.location.pathname?null:"/dashboard"},"Dashboard"),i.a.createElement("a",{className:"Materials"===this.state.route?"menu-item selected":"menu-item",href:"/manage-materials"===window.location.pathname?null:"/manage-materials"},"Manage Materials"),i.a.createElement("a",{className:"Districts"===this.state.route?"menu-item selected":"menu-item",href:"/manage-districts"===window.location.pathname?null:"/manage-districts"},"Manage Districts"),i.a.createElement("a",{className:"Users"===this.state.route?"menu-item selected":"menu-item",href:"/manage-users"===window.location.pathname?null:"/manage-users"},"Manage Users"))),i.a.createElement("div",{className:"current-user"},i.a.createElement("div",{className:"name"},this.props.userData.fullName?this.props.userData.fullName:this.props.userData.email),i.a.createElement("div",{className:"logout-btn",onClick:this.logout},i.a.createElement("i",{className:"fas fa-sign-out-alt"}))))}}]),a}(n.Component),b=a(58),g=a(4),v=a.n(g),N=(a(20).readCookie,a(20).eraseCookie,a(20).createCookie),y=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,_=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).loginUser=function(e){e.preventDefault();var t=v()("#login-form #email").val(),a=v()("#login-form #password").val();if(""!==t&&null!==t.match(y)&&""!==a){v()("#login-spinner").removeClass("d-none"),v()("#login-spinner").css("display","block"),v()("#login-span").addClass("d-none");var n={email:t,password:a};fetch("http://covidapi.letsendorse.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){"ok"===e.status?(N("access_token",e.accessToken,30),N("refresh_token",e.refreshToken,30),N("userData",JSON.stringify(e.data),30),window.location.pathname=""):"error"===e.status&&(v()("#login-spinner").addClass("d-none"),v()("#login-span").removeClass("d-none"),e.showMessage?v()(".red-color.error").html(e.message):v()(".red-color.error").html("Oops! Something went wrong"),v()(".red-color.error").css("display","block"))}))}else""===t||null===t.match(y)?(v()("#login-form #email").addClass("wrong"),v()("#login-form #email").siblings("label").addClass("wrong"),v()("#login-spinner").addClass("d-none"),v()("#login-spinner").css("display","block"),v()("#login-span").removeClass("d-none")):""===a&&(v()("#login-form #password").addClass("wrong"),v()("#login-form #password").siblings("label").addClass("wrong"),v()("#login-spinner").addClass("d-none"),v()("#login-spinner").css("display","block"),v()("#login-span").removeClass("d-none"))},n.setLoginForm=function(){v()(document).ready((function(){v()(".form").find("input, textarea").on("keyup blur focus",(function(e){var t=v()(e.target),a=t.prev("label");v()(Object(b.a)(n)).hasClass("wrong")&&v()(Object(b.a)(n)).removeClass("wrong"),"keyup"===e.type?""===t.val()?a.removeClass("highlight"):a.addClass("active highlight"):"blur"===e.type?""===t.val()?a.removeClass("active highlight"):a.removeClass("highlight"):"focus"===e.type&&a.addClass("active highlight")})),v()("body").click(),""!==v()("input#email").val()&&(v()("input#email").siblings("label").hasClass("active")||v()("input#email").siblings("label").addClass("active")),""!==v()("input#password").val()&&(v()("input#password").siblings("label").hasClass("active")||v()("input#password").siblings("label").addClass("active"))}))},n.state={forgotPassword:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){v()("#login-spinner").css("display","none")}},{key:"componentDidUpdate",value:function(){this.setLoginForm()}},{key:"change",value:function(){v()("#login-form #email").siblings("label").hasClass("wrong")&&v()("#login-form #email").siblings("label").removeClass("wrong"),v()("#login-form #password").siblings("label").hasClass("wrong")&&v()("#login-form #password").siblings("label").removeClass("wrong")}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"login-container"},i.a.createElement("div",{className:"sahaj-front sahaj-front-mobile"}),!1===e.state.forgotPassword?i.a.createElement("div",{className:"form form-mobile"},i.a.createElement("div",{className:"tab-content"},i.a.createElement("div",{id:"login",className:"text-center"},i.a.createElement("h1",null,"Welcome Back!"),i.a.createElement("form",{id:"login-form",onSubmit:e.loginUser},i.a.createElement("div",{className:"field-wrap"},i.a.createElement("label",null," Email Address",i.a.createElement("span",{className:"req"},"*")," "),i.a.createElement("input",{id:"email",type:"email",required:!0,autoComplete:"off",onChange:e.change})),i.a.createElement("div",{className:"field-wrap"},i.a.createElement("label",null," Password",i.a.createElement("span",{className:"req"},"*")," "),i.a.createElement("input",{id:"password",type:"password",required:!0,autoComplete:"off",onChange:e.change})),i.a.createElement("div",{className:"field-wrap"},i.a.createElement("span",{className:"red-color error"})),i.a.createElement("button",{className:"button button-block d-flex justify-content-center align-items-center"},i.a.createElement("i",{id:"login-spinner",className:"fas fa-spinner fa-spin mr10",style:{display:"none"}}),i.a.createElement("span",{id:"login-span"},"Log In")))))):i.a.createElement("div",{className:"form forgot form-mobile text-center"},i.a.createElement("div",{className:"tab-content"},i.a.createElement("div",{id:"forgot-password"},i.a.createElement("h2",null,"Forgot Password"),i.a.createElement("div",{className:"field-wrap"},i.a.createElement("label",null," Email Address",i.a.createElement("span",{className:"req"},"*")," "),i.a.createElement("input",{id:"email",type:"email",required:!0,autoComplete:"off",onChange:e.changeForgotPasswordEmail.bind(e)}),i.a.createElement("span",{hidden:e.state.forgotPasswordEmailValid},i.a.createElement("span",{className:"required-span"}," Incorrect Email entered! "))),i.a.createElement("button",{className:"button button-block d-flex justify-content-center align-items-center",onClick:e.forgotPasswordSubmit.bind(e)},i.a.createElement("span",{id:"login-span"},"Submit"),i.a.createElement("i",{className:"fas fa-check ml15",hidden:!e.state.submittedForgotPassword})),i.a.createElement("h4",null,"Enter your registered email and a new password link will be sent to the registered email."),i.a.createElement("a",{className:"forgot"},i.a.createElement("span",{id:"forgot-span",onClick:e.forgotPassword.bind(e)},i.a.createElement("i",{className:"fas fa-chevron-left"})," Back"))),i.a.createElement("img",{src:"/images/le_black.png",style:{marginTop:30,width:200}}))))}}]),a}(n.Component),C=a(25),q=a.n(C),w=a(273),O=a(271),k=a(268),D=a(269),M=a(270),S=w.a.Option,T=a(20).readCookie,I=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).districtChange=function(e){n.setState({district:e},(function(){n.refreshReqs()}))},n.refreshReqs=function(){var e="?dashboard=true&state="+n.props.match.params.state;n.state.district&&(e+="&district="+n.state.district),fetch("http://covidapi.letsendorse.com/requirements"+e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){n.setState({requirements:e.requirements})})).catch((function(e){console.log(e)}))},n.express=function(){n.setState({newContribution:{districts:[],materials:[],amount:"",contribute_as:"",contributer_info:{name:"",phone:"",email:""},message:"",preffered_supplier:""},showInterestModal:!0})},n.closeInterestModal=function(){n.setState({showInterestModal:!1})},n.onChangeHandler=function(e,t){t.target&&(t=t.target.value);var a=n.state.newContribution;"districts"===e||"materials"===e?(console.log(e,t),t.indexOf("Any")>-1?a[e]=["Any"]:a[e]=t):"amount"===e||"contribute_as"===e||"message"===e||"preffered_supplier"===e?a[e]=t:"contributer_info_name"!==e&&"contributer_info_phone"!==e&&"contributer_info_email"!==e&&"contributer_info_organization"!==e&&"contributer_info_designation"!==e||(a.contributer_info[e.split("_")[2]]=t),n.setState({newContribution:a})},n.closeSharingModal=function(){n.setState({showSharingModal:!1})},n.contribute=function(){var e=!1,t=n.state.newContribution,a={};t.districts.length&&t.materials.length&&t.amount&&t.contribute_as&&t.contributer_info.name&&t.contributer_info.phone&&t.contributer_info.email&&("organization"!==t.contribute_as||t.contributer_info.organization&&t.contributer_info.designation)||(e=!0),e?(t.districts.length||(a.districts="Please select at least one District"),t.materials.length||(a.materials="Please select at least one Material"),t.amount||(a.amount="Please enter contribution amount"),t.contribute_as||(a.contribute_as="Please select at least one option"),t.contributer_info.name||(a.name="Please enter your Full Name"),t.contributer_info.phone||(a.phone="Please enter your Phone Number"),t.contributer_info.email||(a.email="Please enter your Email Id"),"organization"===t.contribute_as&&(t.contributer_info.organization||(a.organization="Please enter your Organization Name"),t.contributer_info.designation||(a.designation="Please enter your Designation")),n.setState({errorObj:a})):(t.state=n.props.match.params.state,t.amount=parseInt(t.amount),fetch("http://covidapi.letsendorse.com/add-contribute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){"ok"===e.status?n.setState({showInterestModal:!1,newContribution:{districts:[],materials:[],amount:"",contribute_as:"",contributer_info:{name:"",phone:"",email:""},message:"",preffered_supplier:""},showSharingModal:!0}):p.a.fire("Oops!","An error occured! Please try again in sometime.","error")})).catch((function(e){console.log(e)})))},n.logout=function(){p.a.fire({title:"Are you sure you want to logout?",type:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes, Logout"}).then((function(e){e.value&&n.props.logoutUser()}))},n.toggleMenu=function(){n.setState({menuVisible:!n.state.menuVisible})},n.viewContributions=function(e){var t="?material="+e;n.state.district&&(t+="&district="+n.state.district),fetch("http://covidapi.letsendorse.com/contributions"+t,{method:"GET",headers:{Auth:T("access_token")}}).then((function(e){return e.json()})).then((function(t){n.setState({contributions:t.contributions,selectedContributionMaterial:e,showContributionModal:!0})})).catch((function(e){console.log(e)}))},n.closeContributionModal=function(){n.setState({contributions:[],selectedContributionMaterial:null,showContributionModal:!1})},n.state={districts:[],materials:[],requirements:[],newContribution:{districts:[],materials:[],amount:"",contribute_as:"",contributer_info:{name:"",phone:"",email:""},message:"",preffered_supplier:""},errorObj:{},district:"",contributions:[],menuVisible:!1,showSharingModal:!1,showInterestModal:!1,showContributionModal:!1,selectedContributionMaterial:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match.params.state&&fetch("http://covidapi.letsendorse.com/districts?state="+this.props.match.params.state,{method:"GET"}).then((function(e){return e.json()})).then((function(t){"ok"===t.status&&(t.districts.length?e.setState({districts:t.districts}):window.location.pathname="/")})).catch((function(e){console.log(e)})),fetch("http://covidapi.letsendorse.com/materials",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({materials:t.materials})})).catch((function(e){console.log(e)})),this.refreshReqs()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"landing-page"},i.a.createElement("div",{className:"banner"},i.a.createElement("div",{className:this.state.menuVisible?"menu-container to-right":"menu-container to-left"},i.a.createElement("div",{className:"arrow",onClick:this.toggleMenu},i.a.createElement("i",{className:"fas fa-chevron-left"})),i.a.createElement("a",{href:"/dashboard"},i.a.createElement("i",{className:"fas fa-laptop"})),i.a.createElement("i",{className:"fas fa-sign-out-alt",onClick:this.logout})),i.a.createElement("div",{className:"banner-container"},i.a.createElement("div",{className:"black-text"},"COMBATING"),i.a.createElement("div",{className:"black-text"},"COVID,"),i.a.createElement("div",{className:"red-text"},"TOGETHER"),i.a.createElement("div",{className:"black-text small"},"AN INITIATIVE OF"),i.a.createElement("div",{className:"logos-container"},i.a.createElement("img",{src:"/images/MSINS.png",width:"200",height:"80",style:{padding:"15px 5px 0 0"}}),i.a.createElement("img",{src:"https://www.letsendorse.com/images/xletsEndorse-Logo-Black-Transparent.png.pagespeed.ic.ySi4ImWpcY.webp",width:"200",height:"80"}))),i.a.createElement("div",{className:"banner-heading"},"LET'S JOIN HAND IN FIGHTING THE PANDEMIC")),i.a.createElement("div",{className:"container-1"},i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"left-container"},i.a.createElement("div",{className:"heading"},i.a.createElement("span",{className:"black-text"},"OUR"),i.a.createElement("span",{className:"red-text"},"ENDEAVOUR")),i.a.createElement("div",null,"We are currently in the midst of a pandemic. And we are aware that our healthcare capacity is not well-equipped to handle this burden. Built in collaboration with ",i.a.createElement("span",{className:"red-text"},i.a.createElement("a",{className:"red-text",href:"https://msins.in/",target:"_blank"},"Maharashtra State Innovation Society, a body of the Government of Maharashtra"),", the various district hospitals and ",i.a.createElement("a",{className:"red-text",href:"https://letsendorse.com/",target:"_blank"},"LetsEndorse")),", this platform serves to bring forth the real-time gaps in the existing public health system and solicit collective support to bridge the same."),i.a.createElement("div",null,"We are running against time to get the supplies that our public health system needs. And we need support from one and all in enabling our infrastructure and people to combat COVID-19.")),i.a.createElement("div",{className:"right-container"}))),i.a.createElement("div",{className:"container-2"},i.a.createElement("div",{className:"heading"},i.a.createElement("span",{className:"black-text"},"LET'S ENABLE OUR"),i.a.createElement("span",{className:"red-text"},"FRONTLINE")),i.a.createElement("div",{className:"filter-container"},i.a.createElement("div",{className:"filter"},i.a.createElement("label",{className:"control-label"},"District"),i.a.createElement(w.a,{showSearch:!0,size:"large",value:this.state.district,onChange:this.districtChange,style:{width:150}},i.a.createElement(S,{value:""},"All"),this.state.districts.map((function(e,t){return i.a.createElement(S,{value:e.name,key:t},e.name)})))),i.a.createElement("div",{className:"last-updated-container"},i.a.createElement("span",{className:"black-text"},"Last Updated:"),i.a.createElement("span",{className:"red-text"},q()().format("HH:mm")+" | "+q()().format("DD MMMM YYYY")))),i.a.createElement("button",{className:"btn interest-btn",onClick:this.express},"Express Interest To Contribute"),i.a.createElement("div",{className:"requirements-container"},i.a.createElement("div",{className:"heading"},i.a.createElement("div",{className:"column-1"},"Requirement"),i.a.createElement("div",{className:"column-2"},"Indicative Unit Cost (INR)"),i.a.createElement("div",{className:"column-3"},"Status (Progress of Fulfillment)"),this.props.userData?i.a.createElement("div",{className:"column-4"},"View Contribution History"):null),this.state.requirements.length?null:i.a.createElement("div",{className:"no-materials"},i.a.createElement("span",{className:"title"},"No requirements available currently!"),i.a.createElement("span",{className:"sub-title"},"Please wait until requirements are added.")),this.state.requirements.map((function(t,a){return i.a.createElement("div",{className:"req-row",key:a},i.a.createElement("div",{className:"column-1",title:t.materialDesc},t._id),i.a.createElement("div",{className:"column-2"},t.unit_min_price&&t.unit_max_price?i.a.createElement("span",null,t.unit_min_price+" - "+t.unit_max_price):t.unit_min_price?t.unit_min_price:t.unit_max_price),i.a.createElement("div",{className:"column-3"},i.a.createElement("div",{className:"box"},i.a.createElement("div",{className:"box-filled",style:parseInt(t.fullfilled_qnty/t.required_qnty*100)>100?{width:"100%"}:{width:parseInt(t.fullfilled_qnty/t.required_qnty*100)+"%"}},i.a.createElement("span",null,t.fullfilled_qnty)),i.a.createElement("span",{className:"box-total"},t.required_qnty))),e.props.userData?i.a.createElement("div",{className:"column-4"},i.a.createElement("button",{className:"btn view-contribution-btn",onClick:e.viewContributions.bind(e,t._id)},"View")):null)})))),i.a.createElement("div",{className:"container-3"},i.a.createElement("div",{className:"heading-container"},i.a.createElement("a",{className:"link",href:"https://bit.ly/CovidMahSupply",target:"_blank"},"CLICK HERE TO VIEW THE LIST AND INVENTORY OF VETTED MATERIAL SUPPLIERS."),i.a.createElement("div",{className:"text"},"(We would nonetheless encourage you to do your due-diligence on the suppliers.)")),i.a.createElement("div",{className:"heading"},i.a.createElement("span",{className:"black-text"},"HOW DOES THIS"),i.a.createElement("span",{className:"red-text"},"PLATFORM WORK?")),i.a.createElement("div",{className:"text-container"},i.a.createElement("div",null,"Built in collaboration with ",i.a.createElement("a",{className:"red-text",href:"https://msins.in/",target:"_blank"},"Maharashtra State Innovation Society")," (a body of the Government of Maharashtra) and ",i.a.createElement("a",{className:"red-text",href:"https://letsendorse.com/",target:"_blank"},"LetsEndorse"),", this platform serves to provide real-time information about the gaps in and needs of the public health system of Maharashtra."),i.a.createElement("div",null,"Our collective goal is to garner the precise needs from the ground (Government Hospitals serving COVID-19 patients) from across different districts of Maharashtra and offer a single and transparent channel to individuals and institutions ",i.a.createElement("b",null,"(through grants and CSR funds- ",i.a.createElement("a",{className:"red-text",href:"https://www.mca.gov.in/Ministry/pdf/Covid_23032020.pdf",target:"_blank"},"Read regulation here"),")")," to make direct contribution and impact in fighting the current pandemic."),i.a.createElement("div",null,'Once you gauge the gaps, you can click on "',i.a.createElement("span",{className:"red-text"},"EXPRESS INTEREST TO CONTRIBUTE"),'" button, mention the scale of your contribution, recommend any supplier, and our task-force team shall get in touch with you to channelize your support in the most appropriate manner.'),i.a.createElement("div",null,"To check how your contribution has reached the last mile, you can click on the hyperlinked name of the item and you would see the entire list of contributions in realtime."),i.a.createElement("div",null,"To know further, get in touch with us at ",i.a.createElement("a",{href:"mailto:support@letsendorse.com",target:"_blank",className:"red-text"},"support@letsendorse.com"),"."))),i.a.createElement("div",{className:"footer-container"},i.a.createElement("div",null,"PLATFORM AND UPDATES POWERED BY"),i.a.createElement("img",{src:"https://www.letsendorse.com/images/xletsEndorse-Logo-Black-Transparent.png.pagespeed.ic.ySi4ImWpcY.webp",width:"200",height:"70"})),i.a.createElement(O.a,{className:"express-interest-modal",show:this.state.showInterestModal,onHide:this.closeInterestModal,size:"lg","aria-labelledby":"contained-modal-title-lg"},i.a.createElement(O.a.Header,{className:"add-partner-modal-header"},i.a.createElement(O.a.Title,{className:"modal-header-custom"},"PLEDGING CONTRIBUTION TO COMBAT COVID-19")),i.a.createElement(O.a.Body,{className:"express-interest-modal-body"},i.a.createElement(k.a,null,i.a.createElement(D.a,{md:6},i.a.createElement("label",{className:"control-label is-imp"},"Districts"),i.a.createElement(w.a,{size:"large",mode:"multiple",style:{width:"100%"},value:this.state.newContribution.districts,onChange:this.onChangeHandler.bind(this,"districts"),placeholder:"Select District(s)"},i.a.createElement(S,{value:"Any"},"Any District"),this.state.districts.map((function(t,a){return i.a.createElement(S,{value:t.name,key:a,disabled:e.state.newContribution.districts.indexOf("Any")>-1},t.name)}))),this.state.errorObj.districts?i.a.createElement("div",{style:{color:"red"}},this.state.errorObj.districts):null),i.a.createElement(D.a,{md:6},i.a.createElement("label",{className:"control-label is-imp"},"Materials"),i.a.createElement(w.a,{size:"large",mode:"multiple",style:{width:"100%"},value:this.state.newContribution.materials,onChange:this.onChangeHandler.bind(this,"materials"),placeholder:"Select Material(s)"},i.a.createElement(S,{value:"Any"},"Any Material"),this.state.materials.map((function(t,a){return i.a.createElement(S,{value:t.name,key:a,disabled:e.state.newContribution.materials.indexOf("Any")>-1},t.name)}))),this.state.errorObj.materials?i.a.createElement("div",{style:{color:"red"}},this.state.errorObj.materials):null),i.a.createElement(D.a,{md:12},i.a.createElement("label",{className:"control-label is-imp"},"Total Contribution (in-kind/financial) (INR)"),i.a.createElement("input",{className:"form-control",type:"number",value:this.state.newContribution.amount,onChange:this.onChangeHandler.bind(this,"amount"),placeholder:"Total Contribution (in-kind/financial) (INR)"}),this.state.errorObj.amount?i.a.createElement("div",{style:{color:"red"}},this.state.errorObj.amount):null),i.a.createElement(D.a,{md:6,className:"radio-container"},i.a.createElement("input",{type:"radio",id:"contribute_as_individual",value:"individual",name:"contribute_as",onChange:this.onChangeHandler.bind(this,"contribute_as")}),i.a.createElement("label",{className:"control-label",htmlFor:"contribute_as_individual"},"I am contributing in my individual capacity.")),i.a.createElement(D.a,{md:6,className:"radio-container"},i.a.createElement("input",{type:"radio",id:"contribute_as_organization",value:"organization",name:"contribute_as",onChange:this.onChangeHandler.bind(this,"contribute_as")}),i.a.createElement("label",{className:"control-label",htmlFor:"contribute_as_organization"},"I am contributing on behalf of my organization.")),this.state.errorObj.contribute_as?i.a.createElement(D.a,{md:12},i.a.createElement("div",{style:{color:"red"}},this.state.errorObj.contribute_as)):null,i.a.createElement(D.a,{md:4},i.a.createElement("label",{className:"control-label is-imp"},"Full Name"),i.a.createElement("input",{className:"form-control",type:"text",value:this.state.newContribution.contributer_info.name,onChange:this.onChangeHandler.bind(this,"contributer_info_name"),placeholder:"Full Name"}),this.state.errorObj.name?i.a.createElement("div",{style:{color:"red"}},this.state.errorObj.name):null),i.a.createElement(D.a,{md:4},i.a.createElement("label",{className:"control-label is-imp"},"Phone"),i.a.createElement("input",{className:"form-control",type:"text",value:this.state.newContribution.contributer_info.phone,onChange:this.onChangeHandler.bind(this,"contributer_info_phone"),placeholder:"Phone Number"}),this.state.errorObj.phone?i.a.createElement("div",{style:{color:"red"}},this.state.errorObj.phone):null),i.a.createElement(D.a,{md:4},i.a.createElement("label",{className:"control-label is-imp"},"Email"),i.a.createElement("input",{className:"form-control",type:"email",value:this.state.newContribution.contributer_info.email,onChange:this.onChangeHandler.bind(this,"contributer_info_email"),placeholder:"Email Id"}),this.state.errorObj.email?i.a.createElement("div",{style:{color:"red"}},this.state.errorObj.email):null),"organization"===this.state.newContribution.contribute_as?i.a.createElement(D.a,{md:6},i.a.createElement("label",{className:"control-label is-imp"},"Organization"),i.a.createElement("input",{className:"form-control",type:"text",value:this.state.newContribution.contributer_info.organization,onChange:this.onChangeHandler.bind(this,"contributer_info_organization"),placeholder:"Organization Name"}),this.state.errorObj.organization?i.a.createElement("div",{style:{color:"red"}},this.state.errorObj.organization):null):null,"organization"===this.state.newContribution.contribute_as?i.a.createElement(D.a,{md:6},i.a.createElement("label",{className:"control-label is-imp"},"Designation"),i.a.createElement("input",{className:"form-control",type:"text",value:this.state.newContribution.contributer_info.designation,onChange:this.onChangeHandler.bind(this,"contributer_info_designation"),placeholder:"Designation"}),this.state.errorObj.designation?i.a.createElement("div",{style:{color:"red"}},this.state.errorObj.designation):null):null,i.a.createElement(D.a,{md:12},i.a.createElement("label",{className:"control-label"},"Message"),i.a.createElement("textarea",{className:"form-control",value:this.state.newContribution.message,onChange:this.onChangeHandler.bind(this,"message"),placeholder:"Enter your message here"})),i.a.createElement(D.a,{md:12},i.a.createElement("label",{className:"control-label"},"If you have a supplier of choice, kindly mention the same"),i.a.createElement("input",{className:"form-control",type:"text",value:this.state.newContribution.preffered_supplier,onChange:this.onChangeHandler.bind(this,"preffered_supplier")}))),i.a.createElement("div",{className:"text-center footer-container"},i.a.createElement("button",{className:"btn contribute-btn",onClick:this.contribute},"I Contribute"),i.a.createElement("note",null,'By clicking on "I Contribute", I am granting the permission to the task-force to reach me.')))),i.a.createElement(O.a,{className:"sharing-modal",show:this.state.showSharingModal,onHide:this.closeSharingModal,size:"lg","aria-labelledby":"contained-modal-title-lg"},i.a.createElement(O.a.Body,{className:"sharing-modal-body"},i.a.createElement(k.a,null,i.a.createElement(D.a,{md:12,className:"text-center text-container"},i.a.createElement("img",{className:"mb20",src:"/images/hands.png",width:"120"}),i.a.createElement("h2",null,"WE SINCERELY THANK YOU FOR DECIDING TO CONTRIBUTE TOWARDS STRENGTHENING THE HEALTH INFRASTRUCTURE TO FIGHT COVID-19"),i.a.createElement("h3",null,"We shall get in touch with you shortly to process the contribution")),i.a.createElement("div",{className:"quote"},"Stay safe ! Stay home !")))),i.a.createElement(O.a,{className:"contribution-modal",show:this.state.showContributionModal,onHide:this.closeContributionModal,size:"lg","aria-labelledby":"contained-modal-title-lg"},i.a.createElement(O.a.Body,{className:"contribution-modal-body"},i.a.createElement("h3",{className:"text-center"},this.state.selectedContributionMaterial),i.a.createElement(k.a,null,i.a.createElement(M.a,{striped:!0,bordered:!0,responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"District(s)"),i.a.createElement("th",null,"Material(s)"),i.a.createElement("th",{style:{width:"300"}},"Total Contribution (in-kind/financial) (INR)"),i.a.createElement("th",null,"Contributed As"),i.a.createElement("th",null,"Full Name"),i.a.createElement("th",null,"Email"),i.a.createElement("th",null,"Phone"),i.a.createElement("th",null,"Organization"),i.a.createElement("th",null,"Designation"),i.a.createElement("th",null,"Message"),i.a.createElement("th",null,"Preffered Supplier"),i.a.createElement("th",null,"Submitted On"))),i.a.createElement("tbody",null,this.state.contributions.map((function(e,t){return i.a.createElement("tr",null,i.a.createElement("td",null,e.districts.join(", ")),i.a.createElement("td",null,e.materials.join(", ")),i.a.createElement("td",{style:{width:"300"}},e.amount),i.a.createElement("td",{className:"contributed-as"},e.contribute_as),i.a.createElement("td",null,e.contributer_info.name),i.a.createElement("td",null,e.contributer_info.email),i.a.createElement("td",null,e.contributer_info.phone),i.a.createElement("td",null,e.contributer_info.organization?e.contributer_info.organization:"N/A"),i.a.createElement("td",null,e.contributer_info.designation?e.contributer_info.designation:"N/A"),i.a.createElement("td",null,e.message),i.a.createElement("td",null,e.preffered_supplier),i.a.createElement("td",null,q()(e.timestamp).format("DD/MM/YYYY")))})))),this.state.contributions.length?null:i.a.createElement("div",{className:"no-contribution"},"No contributions have been made yet!")))))}}]),a}(n.Component),j=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).logout=function(){p.a.fire({title:"Are you sure you want to logout?",type:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes, Logout"}).then((function(t){t.value&&e.props.logoutUser()}))},e}return Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"dashboard-page"},i.a.createElement("h2",{className:"text-center"},"COMBATING COVID-19"),i.a.createElement("h3",{className:"text-center"},"ADMINISTRATOR MODULE"),i.a.createElement("div",{className:"buttons-container"},i.a.createElement("a",{className:"button",href:"/"},"HOMEPAGE"),i.a.createElement("a",{className:"button",href:"/manage-users"},"MANAGE USERS"),i.a.createElement("a",{className:"button",href:"/add-material"},"ADD MATERIAL"),i.a.createElement("a",{className:"button",href:"/manage-districts"},"MANAGE DISTRICT",i.a.createElement("br",null),"(Requirements & Fulfillments)"),i.a.createElement("a",{className:"button",href:"/manage-materials"},"MANAGE MATERIAL",i.a.createElement("br",null),"(Requirements & Fulfillments)")),i.a.createElement("div",{className:"footer-button",onClick:this.logout},"LOGOUT"))}}]),a}(n.Component),x=a(151),R=a(20).readCookie,A=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).changeHandler=function(e,t){n.setState(Object(x.a)({},e,t.target.value))},n.submit=function(){var e="http://covidapi.letsendorse.com/add-materials",t="POST",a={name:n.state.name,desc:n.state.desc,min_price:n.state.min_price,max_price:n.state.max_price};n.props.match.params.materialId&&(e="http://covidapi.letsendorse.com/edit-material/"+n.props.match.params.materialId,t="PUT"),fetch(e,{method:t,headers:{Auth:R("access_token"),"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){var t="Material successfully added.";n.props.match.params.materialId&&(t="Material updated successfully."),p.a.fire({title:t,type:"success"})})).catch((function(e){console.log(e)}))},n.state={name:"",desc:"",min_price:"",max_price:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.match.params.materialId&&fetch("http://covidapi.letsendorse.com/material/"+this.props.match.params.materialId,{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a={name:t.material.name,desc:t.material.desc,min_price:t.material.min_price,max_price:t.material.max_price};e.setState(a)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"add-material-page"},i.a.createElement("h2",{className:"text-center"},this.props.match.params.materialId?"EDIT MATERIAL PAGE":"ADD MATERIAL PAGE"),i.a.createElement("div",{className:"d-flex question"},i.a.createElement("label",{className:"control-label"},"Name of the material"),i.a.createElement("input",{className:"form-control",type:"text",value:this.state.name,onChange:this.changeHandler.bind(this,"name")})),i.a.createElement("div",{className:"d-flex question"},i.a.createElement("label",{className:"control-label"},"Description of the material"),i.a.createElement("textarea",{className:"form-control",value:this.state.desc,onChange:this.changeHandler.bind(this,"desc")})),i.a.createElement("div",{className:"d-flex question"},i.a.createElement("label",{className:"control-label"},"Unit Price in INR"),i.a.createElement("div",{className:"d-flex input-groups"},i.a.createElement("input",{className:"form-control",type:"number",placeholder:"Minimum",value:this.state.min_price,onChange:this.changeHandler.bind(this,"min_price")}),i.a.createElement("input",{className:"form-control",type:"number",placeholder:"Maximum",value:this.state.max_price,onChange:this.changeHandler.bind(this,"max_price")}))),i.a.createElement("div",{className:"text-center"},i.a.createElement("button",{className:"btn submit-btn",onClick:this.submit},"SUBMIT THE MATERIAL")))}}]),a}(n.Component),F=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).manageDistrict=function(e){window.location.pathname="/manage-district/"+e},n.state={districts:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://covidapi.letsendorse.com/districts",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({districts:t.districts})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"manage-districts-page"},i.a.createElement("h2",{className:"text-center"},"MANAGE DISTRICTS PAGE"),i.a.createElement("div",{className:"heading"},i.a.createElement("div",{className:"column-1"},"Name of the District"),i.a.createElement("div",{className:"column-2"},"Manage Requirement and Fulfillment")),this.state.districts.length?null:i.a.createElement("div",{className:"no-districts"},"Districts not found"),this.state.districts.map((function(t,a){return i.a.createElement("div",{className:"district-row",key:a},i.a.createElement("div",{className:"column-1"},t.name),i.a.createElement("div",{className:"column-2"},i.a.createElement("button",{className:"btn manage-district-btn",onClick:e.manageDistrict.bind(e,t._id)},"Manage")))})))}}]),a}(n.Component),P=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getMaterials=function(){fetch("http://covidapi.letsendorse.com/materials",{method:"GET"}).then((function(e){return e.json()})).then((function(e){n.setState({materials:e.materials})})).catch((function(e){console.log(e)}))},n.editMaterial=function(e){window.location.pathname="/edit-material/"+e},n.manageMaterial=function(e){window.location.pathname="/manage-material/"+e},n.state={materials:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getMaterials()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"manage-materials-page"},i.a.createElement("h2",{className:"text-center"},"MANAGE MATERIALS PAGE"),i.a.createElement("div",{className:"heading"},i.a.createElement("div",{className:"column-1"},"Name of the material"),i.a.createElement("div",{className:"column-2"},"Manage Requirement and Fulfillment"),i.a.createElement("div",{className:"column-3"},"Edit Material Information")),this.state.materials.length?null:i.a.createElement("div",{className:"no-materials"},"Material not found"),this.state.materials.map((function(t,a){return i.a.createElement("div",{className:"material-row",key:a},i.a.createElement("div",{className:"column-1"},t.name),i.a.createElement("div",{className:"column-2"},i.a.createElement("button",{className:"btn manage-material-btn",onClick:e.manageMaterial.bind(e,t._id)},"Manage")),i.a.createElement("div",{className:"column-3"},i.a.createElement("button",{className:"btn edit-material-btn",onClick:e.editMaterial.bind(e,t._id)},"Edit")))})))}}]),a}(n.Component),U=a(272),H=a(153),G=a.n(H),z=w.a.Option,Y=a(20).readCookie;q.a.locale("en");var L=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).addFulfilment=function(){var e=!0,t=n.state.requirement;t.fulfilments.length&&(t.fulfilments[t.fulfilments.length-1].date&&t.fulfilments[t.fulfilments.length-1].units&&t.fulfilments[t.fulfilments.length-1].status&&t.fulfilments[t.fulfilments.length-1].fulfilled_by||(e=!1)),e&&(t.fulfilments.push({_id:"0",date:"",units:"",status:"",fulfilled_by:""}),n.setState({requirement:t,editFulfilment:"0"}))},n.editFulfilment=function(e,t){var a=n.state.requirement;a.fulfilments[e].date=q()(a.fulfilments[e].date,"DD/MM/YYYY"),n.setState({requirement:a,editFulfilment:t})},n.handleFulfilmentChange=function(e,t,a){var i=n.state.requirement;a.target&&(a=a.target.value),"units"===t&&(a=parseInt(a)),i.fulfilments[e][t]=a,n.setState({requirement:i})},n.saveFulfilment=function(e,t){var a={date:t.date,units:t.units,status:t.status,fulfilled_by:t.fulfilled_by},i=!1,r=n.state.requirement;if(t.date&&q()(t.date,"DD/MM/YYYY").isValid()?t.units?!t.status||["Order Placed","Dispatched","Deployed"].indexOf(t.status)<0?i="status":t.fulfilled_by||(i="fulfilled_by"):i="units":i="date",a.requirement_id=r._id,a.date=q()(a.date).format("DD/MM/YYYY"),i)"date"===i?p.a.fire("","Please select a correct Date","error"):"units"===i?p.a.fire("","Please enter correct fulfilled units","error"):"status"===i?p.a.fire("","Please select a correct Status","error"):"fulfilled_by"===i&&p.a.fire("","Please enter correct fulfilled by value","error");else{var l="http://covidapi.letsendorse.com/update-fulfilment/"+t._id,s="PUT";0===parseInt(t._id)&&(s="POST",l="http://covidapi.letsendorse.com/add-fulfilment"),fetch(l,{method:s,headers:{Auth:Y("access_token"),"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(i){t.date=a.date,r.fulfilments[e]=t,n.setState({requirement:r,editFulfilment:null});var l="Fulfilment successfully updated.";0===parseInt(t._id)&&(l="Fulfilment added successfully."),p.a.fire({title:l,type:"success"})})).catch((function(a){console.log(a),t.date="",r.fulfilments[e]=t,n.setState({requirement:r,editFulfilment:null})}))}},n.state={requirement:null,editFulfilment:null,selectedRequirement:null,showFulfilmentModal:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://covidapi.letsendorse.com/requirement/"+this.props.match.params.requirementId,{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a=t.requirement;fetch("http://covidapi.letsendorse.com/fulfilments?requirement_id="+e.props.match.params.requirementId,{method:"GET",headers:{Auth:Y("access_token")}}).then((function(e){return e.json()})).then((function(t){a.fulfilments=t.fulfilments,e.setState({requirement:a})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return null!==this.state.requirement?i.a.createElement("div",{className:"manage-single-material-page"},i.a.createElement("h2",{className:"text-center"},"Manage Fulfilments Page"),i.a.createElement("h2",{className:"text-center"},this.state.requirement.material+" - "+this.state.requirement.district+" - "+this.state.requirement.required_qnty+" needed"),i.a.createElement("div",{className:"heading"},i.a.createElement("div",{className:"column-1"},"Date"),i.a.createElement("div",{className:"column-2"},"Units"),i.a.createElement("div",{className:"column-3"},"Fulfilled By"),i.a.createElement("div",{className:"column-4"},"Status"),i.a.createElement("div",{className:"column-5"},"EDIT / SAVE")),this.state.requirement.fulfilments.length?null:i.a.createElement("div",{className:"no-materials"},"Fulfilments not found"),this.state.requirement.fulfilments.map((function(t,a){return i.a.createElement("div",{className:"material-row",key:a},e.state.editFulfilment===t._id?i.a.createElement("div",{className:"column-1"},i.a.createElement(U.a,{locale:G.a,size:"large",style:{width:"100%"},format:"DD/MM/YYYY",value:t.date,type:"date",onChange:e.handleFulfilmentChange.bind(e,a,"date")})):i.a.createElement("div",{className:"column-1"},t.date),e.state.editFulfilment===t._id?i.a.createElement("div",{className:"column-2"},i.a.createElement("input",{className:"form-control",type:"number",value:t.units,onChange:e.handleFulfilmentChange.bind(e,a,"units")})):i.a.createElement("div",{className:"column-2"},t.units),e.state.editFulfilment===t._id?i.a.createElement("div",{className:"column-3"},i.a.createElement("input",{className:"form-control",type:"text",value:t.fulfilled_by,onChange:e.handleFulfilmentChange.bind(e,a,"fulfilled_by")})):i.a.createElement("div",{className:"column-3"},t.fulfilled_by),e.state.editFulfilment===t._id?i.a.createElement("div",{className:"column-4"},i.a.createElement(w.a,{size:"large",value:t.status,onChange:e.handleFulfilmentChange.bind(e,a,"status"),style:{width:"100%"}},i.a.createElement(z,{value:""},"Select Status"),i.a.createElement(z,{value:"Order Placed"},"Order Placed"),i.a.createElement(z,{value:"Dispatched"},"Dispatched"),i.a.createElement(z,{value:"Deployed"},"Deployed"))):i.a.createElement("div",{className:"column-4"},t.status),i.a.createElement("div",{className:"column-5"},e.state.editFulfilment===t._id?i.a.createElement("button",{className:"btn save-requirement-btn",onClick:e.saveFulfilment.bind(e,a,t)},"Save"):i.a.createElement("button",{className:"btn edit-requirement-btn",disabled:e.state.editFulfilment,onClick:e.editFulfilment.bind(e,a,t._id)},"Edit")))})),i.a.createElement("div",{className:"add-district-container"},i.a.createElement("button",{className:"btn add-district-btn",onClick:this.addFulfilment,disabled:this.state.editFulfilment},i.a.createElement("i",{className:"fa fa-plus"}),"Add Fulfilment"))):null}}]),a}(n.Component),B=w.a.Option,V=a(20).readCookie,W=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).manageFulfilment=function(e){window.location.pathname="/fulfilments/"+e},n.addDistrict=function(){var e=!0,t=n.state.material;t.requirements.length&&(t.requirements[t.requirements.length-1].district&&t.requirements[t.requirements.length-1].required_qnty||(e=!1)),e&&(t.requirements.push({_id:"0",district:"",required_qnty:"",fullfilled_qnty:""}),n.setState({material:t,editRequirement:"0"}))},n.editRequirement=function(e){n.setState({editRequirement:e})},n.handleReqChange=function(e,t,a){var i=n.state.material;a.target&&(a=parseInt(a.target.value)),i.requirements[e][t]=a,n.setState({material:i})},n.saveRequirement=function(e){var t={district:e.district,required_qnty:e.required_qnty},a=!1,i=n.state.material;if(i.requirements.length>1)for(var r=0;r<i.requirements.length;r++)e._id!==i.requirements[r]._id&&e.district===i.requirements[r].district&&(a="district");if(e.district?e.required_qnty||(a="required_qnty"):a="district",t.material=i.name,a)"district"===a?p.a.fire("","Please select a correct District","error"):"required_qnty"===a&&p.a.fire("","Please enter correct required units","error");else{var l="http://covidapi.letsendorse.com/update-requirement/"+e._id,s="PUT";0===parseInt(e._id)&&(s="POST",l="http://covidapi.letsendorse.com/add-requirement"),fetch(l,{method:s,headers:{Auth:V("access_token"),"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){n.setState({editRequirement:null});var a="Requirement successfully updated.";0===parseInt(e._id)&&(a="Requirement added successfully."),p.a.fire({title:a,type:"success"})})).catch((function(e){console.log(e),n.setState({editRequirement:null})}))}},n.state={districts:[],material:null,editRequirement:null,selectedRequirement:null,showFulfilmentModal:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://covidapi.letsendorse.com/districts",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({districts:t.districts})})).catch((function(e){console.log(e)})),fetch("http://covidapi.letsendorse.com/material/"+this.props.match.params.materialId,{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a=t.material;fetch("http://covidapi.letsendorse.com/requirements?material="+a.name,{method:"GET"}).then((function(e){return e.json()})).then((function(t){a.requirements=t.requirements,e.setState({material:a})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return null!==this.state.material?i.a.createElement("div",{className:"manage-single-material-page"},i.a.createElement("h2",{className:"text-center"},this.state.material.name),i.a.createElement("div",{className:"heading"},i.a.createElement("div",{className:"column-1"},"District"),i.a.createElement("div",{className:"column-2"},"Required Units"),i.a.createElement("div",{className:"column-3"},"Fulfilled Units"),i.a.createElement("div",{className:"column-4"},"Manage Fulfilments"),i.a.createElement("div",{className:"column-5"},"EDIT / SAVE Required Units")),this.state.material.requirements.length?null:i.a.createElement("div",{className:"no-materials"},"Requirements not found"),this.state.material.requirements.map((function(t,a){return i.a.createElement("div",{className:"material-row",key:a},e.state.editRequirement===t._id?i.a.createElement("div",{className:"column-1"},i.a.createElement(w.a,{showSearch:!0,size:"large",value:t.district,onChange:e.handleReqChange.bind(e,a,"district"),style:{width:"100%"}},e.state.districts.map((function(e,t){return i.a.createElement(B,{value:e.name,key:t},e.name)})))):i.a.createElement("div",{className:"column-1"},t.district),e.state.editRequirement===t._id?i.a.createElement("div",{className:"column-2"},i.a.createElement("input",{className:"form-control",type:"number",value:t.required_qnty,onChange:e.handleReqChange.bind(e,a,"required_qnty")})):i.a.createElement("div",{className:"column-2"},t.required_qnty),i.a.createElement("div",{className:"column-3"},t.fullfilled_qnty),i.a.createElement("div",{className:"column-4"},i.a.createElement("button",{className:"btn add-fulfilment-btn",disabled:e.state.editRequirement,onClick:e.manageFulfilment.bind(e,t._id)},"Manage")),i.a.createElement("div",{className:"column-5"},e.state.editRequirement===t._id?i.a.createElement("button",{className:"btn save-requirement-btn",onClick:e.saveRequirement.bind(e,t)},"Save"):i.a.createElement("button",{className:"btn edit-requirement-btn",disabled:e.state.editRequirement,onClick:e.editRequirement.bind(e,t._id)},"Edit")))})),i.a.createElement("div",{className:"add-district-container"},i.a.createElement("button",{className:"btn add-district-btn",onClick:this.addDistrict,disabled:this.state.editRequirement},i.a.createElement("i",{className:"fa fa-plus"}),"Add District"))):null}}]),a}(n.Component),J=w.a.Option,K=a(20).readCookie,Z=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).manageFulfilment=function(e){window.location.pathname="/fulfilments/"+e},n.addMaterial=function(){var e=!0,t=n.state.district;t.requirements.length&&(t.requirements[t.requirements.length-1].material&&t.requirements[t.requirements.length-1].required_qnty||(e=!1)),e&&(t.requirements.push({_id:"0",material:"",required_qnty:"",fullfilled_qnty:""}),n.setState({district:t,editRequirement:"0"}))},n.editRequirement=function(e){n.setState({editRequirement:e})},n.handleReqChange=function(e,t,a){var i=n.state.district;a.target&&(a=parseInt(a.target.value)),i.requirements[e][t]=a,n.setState({district:i})},n.saveRequirement=function(e){var t={material:e.material,required_qnty:e.required_qnty},a=!1,i=n.state.district;if(i.requirements.length>1)for(var r=0;r<i.requirements.length;r++)e._id!==i.requirements[r]._id&&e.material===i.requirements[r].material&&(a="material");if(e.material?e.required_qnty||(a="required_qnty"):a="material",t.district=i.name,a)"material"===a?p.a.fire("","Please select a correct Material","error"):"required_qnty"===a&&p.a.fire("","Please enter correct required units","error");else{var l="http://covidapi.letsendorse.com/update-requirement/"+e._id,s="PUT";0===parseInt(e._id)&&(s="POST",l="http://covidapi.letsendorse.com/add-requirement"),fetch(l,{method:s,headers:{Auth:K("access_token"),"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){n.setState({editRequirement:null});var a="Requirement successfully updated.";0===parseInt(e._id)&&(a="Requirement added successfully."),p.a.fire({title:a,type:"success"})})).catch((function(e){console.log(e),n.setState({editRequirement:null})}))}},n.state={materials:[],district:null,editRequirement:null,selectedRequirement:null,showFulfilmentModal:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://covidapi.letsendorse.com/materials",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({materials:t.materials})})).catch((function(e){console.log(e)})),fetch("http://covidapi.letsendorse.com/district/"+this.props.match.params.districtId,{method:"GET"}).then((function(e){return e.json()})).then((function(t){var a=t.district;fetch("http://covidapi.letsendorse.com/requirements?district="+a.name,{method:"GET"}).then((function(e){return e.json()})).then((function(t){a.requirements=t.requirements,e.setState({district:a})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return null!==this.state.district?i.a.createElement("div",{className:"manage-single-district-page"},i.a.createElement("h2",{className:"text-center"},this.state.district.name),i.a.createElement("div",{className:"heading"},i.a.createElement("div",{className:"column-1"},"Material"),i.a.createElement("div",{className:"column-2"},"Required Units"),i.a.createElement("div",{className:"column-3"},"Fulfilled Units"),i.a.createElement("div",{className:"column-4"},"Manage Fulfilments"),i.a.createElement("div",{className:"column-5"},"EDIT / SAVE Required Units")),this.state.district.requirements.length?null:i.a.createElement("div",{className:"no-districts"},"Requirements not found"),this.state.district.requirements.map((function(t,a){return i.a.createElement("div",{className:"district-row",key:a},e.state.editRequirement===t._id?i.a.createElement("div",{className:"column-1"},i.a.createElement(w.a,{showSearch:!0,size:"large",value:t.material,onChange:e.handleReqChange.bind(e,a,"material"),style:{width:"100%"}},e.state.materials.map((function(e,t){return i.a.createElement(J,{value:e.name,key:t},e.name)})))):i.a.createElement("div",{className:"column-1"},t.material),e.state.editRequirement===t._id?i.a.createElement("div",{className:"column-2"},i.a.createElement("input",{className:"form-control",type:"number",value:t.required_qnty,onChange:e.handleReqChange.bind(e,a,"required_qnty")})):i.a.createElement("div",{className:"column-2"},t.required_qnty),i.a.createElement("div",{className:"column-3"},t.fullfilled_qnty),i.a.createElement("div",{className:"column-4"},i.a.createElement("button",{className:"btn add-fulfilment-btn",disabled:e.state.editRequirement,onClick:e.manageFulfilment.bind(e,t._id)},"Manage")),i.a.createElement("div",{className:"column-5"},e.state.editRequirement===t._id?i.a.createElement("button",{className:"btn save-requirement-btn",onClick:e.saveRequirement.bind(e,t)},"Save"):i.a.createElement("button",{className:"btn edit-requirement-btn",disabled:e.state.editRequirement,onClick:e.editRequirement.bind(e,t._id)},"Edit")))})),i.a.createElement("div",{className:"add-material-container"},i.a.createElement("button",{className:"btn add-material-btn",onClick:this.addMaterial,disabled:this.state.editRequirement},i.a.createElement("i",{className:"fa fa-plus"}),"Add Material"))):null}}]),a}(n.Component),$=Object(h.a)(),X=a(20).readCookie,Q=a(20).eraseCookie,ee=(a(20).createCookie,function(e){var t=e.component,a=Object(u.a)(e,["component"]);return i.a.createElement(d.b,Object.assign({},a,{render:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(E,{logoutUser:a.logoutUser,userData:a.userData}),i.a.createElement(t,Object.assign({},e,{userData:a.userData,logoutUser:a.logoutUser})))}}))}),te=function(e){var t=e.component,a=Object(u.a)(e,["component"]);return i.a.createElement(d.b,Object.assign({},a,{render:function(e){return i.a.createElement(t,Object.assign({},e,{userData:a.userData,logoutUser:a.logoutUser}))}}))},ae=function(e){Object(m.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).logoutUser=function(){fetch("http://covidapi.letsendorse.com/logout",{method:"POST",headers:{Auth:X("access_token")},body:JSON.stringify({refresh_token:X("refresh_token")})}).then((function(e){return e.json()})).then((function(e){Q("userData"),Q("access_token"),Q("refresh_token"),n.setState({userData:null})})).catch((function(e){console.log("There has been a problem with your fetch operation: "+e.message)}))},n.state={loaded:!1,userData:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){null!==X("userData")?this.setState({userData:JSON.parse(X("userData")),loaded:!0}):(Q("userData"),Q("access_token"),Q("refresh_token"),this.setState({userData:null,loaded:!0}))}},{key:"render",value:function(){return this.state.loaded?null!==this.state.userData?i.a.createElement(d.c,{history:$},i.a.createElement(d.d,null,i.a.createElement(d.a,{exact:!0,from:"/",to:"/maharashtra"}),i.a.createElement(ee,{exact:!0,path:"/dashboard",component:j,userData:this.state.userData,logoutUser:this.logoutUser}),i.a.createElement(ee,{exact:!0,path:"/add-material",component:A,userData:this.state.userData,logoutUser:this.logoutUser}),i.a.createElement(ee,{exact:!0,path:"/edit-material/:materialId",component:A,userData:this.state.userData,logoutUser:this.logoutUser}),i.a.createElement(ee,{exact:!0,path:"/manage-materials",component:P,userData:this.state.userData,logoutUser:this.logoutUser}),i.a.createElement(ee,{exact:!0,path:"/manage-material/:materialId",component:W,userData:this.state.userData,logoutUser:this.logoutUser}),i.a.createElement(ee,{exact:!0,path:"/manage-districts",component:F,userData:this.state.userData,logoutUser:this.logoutUser}),i.a.createElement(ee,{exact:!0,path:"/manage-district/:districtId",component:Z,userData:this.state.userData,logoutUser:this.logoutUser}),i.a.createElement(ee,{exact:!0,path:"/fulfilments/:requirementId",component:L,userData:this.state.userData,logoutUser:this.logoutUser}),i.a.createElement(te,{exact:!0,path:"/:state",component:I,userData:this.state.userData,logoutUser:this.logoutUser}),i.a.createElement(d.a,{path:"*",to:"/maharashtra"}))):i.a.createElement(d.c,{history:$},i.a.createElement(d.d,null,i.a.createElement(d.a,{exact:!0,from:"/",to:"/maharashtra"}),i.a.createElement(d.b,{exact:!0,path:"/login",component:_}),i.a.createElement(d.b,{exact:!0,path:"/:state",component:I}),i.a.createElement(d.a,{path:"*",to:"/maharashtra"}))):null}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(258),a(259);l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),a(260).config()}},[[159,1,2]]]);
//# sourceMappingURL=main.bd56de2c.chunk.js.map